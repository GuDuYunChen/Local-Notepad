## 目标
- 顶部工具栏按功能模块分组，两行布局；按钮文本不折行，交互明确。
- 在 ≥1280px、1024px、768px 宽度下保持整洁与一致性，滚动时工具栏固定。

## 现状与问题
- 工具按钮在一行时被挤压、文字折行，分组不明确；窄屏时可读性与可操作性下降。

## 实现方案概览
- 组件：在 `src/components/Editor.tsx` 将工具栏拆分为容器 `toolbar-stack`，内含两条 `toolbar-row`，每行由多个 `toolbar-group` 组成，组间使用 `divider` 视觉分隔。
- 样式：在 `src/styles/index.css` 新增（或完善） `.toolbar-stack.colored`、`.toolbar-row`、`.toolbar-group`、`.divider`，规范间距与尺寸；设置粘性定位与响应式媒体查询。

## 详细分组与优先级
- 第一行（核心操作区，必须完整展示）：
  - 文本样式组：加粗（主色 `--accent` 高亮）、斜体。
  - 链接操作组：链接地址输入 + 插入链接。
  - 历史操作组：撤销（Ctrl+Z）/重做（Ctrl+Y 或 Ctrl+Shift+Z）。
- 第二行（文档结构区）：
  - 标题格式组：H1/H2/H3/P。
  - 列表格式组：UL/OL。

## 布局与间距规范（代码化）
- 行容器：`.toolbar-stack.colored`
  - `display: grid; grid-template-rows: auto auto; gap: 12px;`
  - `position: sticky; top: 0; z-index: 5;`
  - 背景：浅色渐变；边框：`1px` 淡色底线。
- 行：`.toolbar-row`
  - `display: flex; flex-wrap: wrap; align-items: center;`
  - `gap: 8px; white-space: nowrap;`
- 组：`.toolbar-group`
  - `display: flex; align-items: center; gap: 8px;`
  - 输入框与相邻控件间距提升至 `12px`（通过 margin 或额外 `gap`）。
- 分隔：`.divider`
  - `width: 1px; height: 24px; background: rgba(0,0,0,0.1); margin: 0 12px;`
- 控件尺寸：
  - `.btn { min-width: 56px; white-space: nowrap; }`
  - `.input { min-width: 220px; max-width: 40vw; }`
  - 主按钮（加粗）：`.btn.primary { background: var(--accent); color: #fff; }`
- 交互态：
  - `.btn:hover` 背景或边框加深约 10%；`.input:focus` 使用 `outline/box-shadow` 的主色 2px 描边。

## 响应式策略
- ≥1280px：两行完整展示；所有分组同屏可见；输入框铺至 `max-width: 40vw`。
- 1024px：维持两行；行内允许水平滚动（但按钮文字不折行）；输入框不小于 220px。
- ≤768px：
  - 两行继续展示；优先保证第一行核心操作；第二行在必要时产生水平滚动。
  - 通过媒体查询调整 `gap` 与输入框宽度（例如 `min-width: 200px`），保持可操作性。

## 组件改造（Editor.tsx）
- 结构：
  - `<div className="toolbar-stack colored">`
    - `<div className="toolbar-row">`（文本样式组｜divider｜链接组｜divider｜历史组）
    - `<div className="toolbar-row">`（标题格式组｜divider｜列表格式组）
- 保留现有命令绑定与快捷键逻辑；不改动业务功能。

## 样式新增（index.css）
- 新增/完善上述类选择器；保证：
  - 组内间距 8px；组间分隔线或 12px 空白。
  - 按钮 `min-width` 与 `white-space: nowrap`；输入框宽度约束。
  - 粘性定位与浅色渐变背景；滚动稳定。

## 测试与验收
- 交互检查：
  - 所有按钮可点且无遮挡；文本不折行；输入框在 320px 宽度仍可操作。
- 视觉检查：
  - 分组清晰、间距符合 8/12px；滚动时工具栏固定不抖动。
- 响应式检查：
  - 1280px：两行完整；1024px：两行稳定；768px：允许换行但不压缩按钮文字。

##实施步骤
1. 更新 `Editor.tsx` 工具栏结构（引入 `toolbar-stack/toolbar-row/toolbar-group/divider`）。
2. 补充 `index.css` 样式与媒体查询；落地尺寸/间距/交互态。
3. 自测三档宽度；调优 `gap/min-width/max-width` 值。
4. 回归测试功能命令与快捷键；提交改动。

若确认该计划，我将直接按上述结构与样式落地，并提供前后对比截图与关键类名说明，确保满足你的验收标准。